{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts","../../src/components/barcode-scanner/barcode-scanner.module.ts","../../src/components/barcode-scanner/barcode-scanner.ts","../../src/components/media-capture/media-capture.module.ts","../../src/components/media-capture/media-capture.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\nimport { BarcodeScannerComponentModule } from '../../components/barcode-scanner/barcode-scanner.module';\nimport { MediaCaptureComponentModule } from '../../components/media-capture/media-capture.module';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n    BarcodeScannerComponentModule,\n    MediaCaptureComponentModule\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad HomePage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { NgModule } from '@angular/core';\r\nimport { IonicModule } from 'ionic-angular';\r\nimport { BarcodeScannerComponent } from './barcode-scanner';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BarcodeScannerComponent\r\n   ],\r\n  imports: [\r\n    IonicModule,\r\n  ],\r\n  exports: [\r\n    BarcodeScannerComponent\r\n  ],\r\n  entryComponents:[\r\n    BarcodeScannerComponent\r\n  ]\r\n})\r\nexport class BarcodeScannerComponentModule {}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/barcode-scanner/barcode-scanner.module.ts","import { Component } from '@angular/core';\nimport { BarcodeScanner, BarcodeScannerOptions } from '@ionic-native/barcode-scanner';\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite';\n\n@Component({\n  selector: 'barcode-scanner',\n  templateUrl: 'barcode-scanner.html'\n})\nexport class BarcodeScannerComponent {\n\n  constructor(private barcodeScanner: BarcodeScanner, private sqlite: SQLite) {\n  }\n\n  prepareBarcodeScanner(){\n    let options : BarcodeScannerOptions = {\n      preferFrontCamera : false, // iOS and Android\n      showFlipCameraButton : true, // iOS and Android\n      showTorchButton : true, // iOS and Android\n      torchOn: true, // Android, launch with the torch switched on (if available)\n      prompt : \"Place a barcode inside the scan area\", // Android\n      resultDisplayDuration: 500, // Android, display scanned text for X ms. 0 suppresses it entirely, default 1500\n      formats : \"QR_CODE,PDF_417\", // default: all but PDF_417 and RSS_EXPANDED\n      orientation : \"landscape\", // Android only (portrait|landscape), default unset so it rotates with the device\n      disableAnimations : true, // iOS\n      disableSuccessBeep: false // iOS and Android\n  }\n\n  this.barcodeScanner.scan(options).then(barcodeData => {\n    console.log('Barcode data', barcodeData);\n    alert(\"We got a barcode\\n\" +\n    \"Result: \" + barcodeData.text + \"\\n\" +\n    \"Format: \" + barcodeData.format + \"\\n\" +\n    \"Cancelled: \" + barcodeData.cancelled);\n   }).catch(err => {\n       console.log('Error', err);\n       alert(\"Scanning failed: \" + err);\n   });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/barcode-scanner/barcode-scanner.ts","import { NgModule } from '@angular/core';\r\nimport { IonicModule } from 'ionic-angular';\r\nimport { MediaCaptureComponent } from './media-capture';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MediaCaptureComponent\r\n   ],\r\n  imports: [\r\n    IonicModule,\r\n  ],\r\n  exports: [\r\n    MediaCaptureComponent\r\n  ],\r\n  entryComponents:[\r\n    MediaCaptureComponent\r\n  ]\r\n})\r\nexport class MediaCaptureComponentModule {}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/media-capture/media-capture.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { File } from '@ionic-native/file';\nimport { MediaCapture, MediaFile, CaptureError, CaptureVideoOptions } from '@ionic-native/media-capture';\nimport { Storage } from '@ionic/storage';\nimport { normalizeURL } from 'ionic-angular';\nimport { DomSanitizer } from '@angular/platform-browser';\n\nconst MEDIA_FILES_KEY = 'mediaFiles';\ndeclare var cordova: any;\n\n@Component({\n  selector: 'media-capture',\n  templateUrl: 'media-capture.html'\n})\nexport class MediaCaptureComponent {\n\n  mediaFiles = [];\n  @ViewChild('myvideo') myVideo: any;\n  source: any;\n  bo_html5: boolean;\n\n  constructor(private mediaCapture: MediaCapture, \n              private storage: Storage, \n              private file: File,\n              private sanitizer: DomSanitizer) {\n  }\n\n  ionViewDidLoad() {\n    this.storage.get(MEDIA_FILES_KEY).then(res => {\n      this.mediaFiles = JSON.parse(res) || [];\n      console.log(this.mediaFiles);\n    });\n  }\n\n  captureVideo() {\n    let options: CaptureVideoOptions = {\n      limit: 1,\n      duration: 30\n    }\n    this.mediaCapture.captureVideo(options).then((res: MediaFile[]) => {\n      let capturedFile = res[0];\n      console.log(capturedFile);\n      let fileName = capturedFile.name;\n      let dir = capturedFile['fullPath'].split('/');\n      dir.pop();\n      let fromDirectory = dir.join('/');      \n      var toDirectory = cordova.file.dataDirectory;\n      \n      this.file.copyFile(fromDirectory , fileName , toDirectory , fileName).then((res) => {\n        console.log(res.nativeURL);\n        this.storeMediaFiles([{name: fileName, size: capturedFile.size}]);\n      },err => {\n        console.log('err: ', err);\n      });\n          },\n    (err: CaptureError) => console.error(err));\n  }\n\n  play(myFile) {\n      // let path = cordova.file.dataDirectory + myFile.name;\n      // console.log(path);\n      // let url = path.replace(/^file:\\/\\//, '');\n      // let video = this.myVideo.nativeElement;\n      // console.log(url);\n      // video.src = normalizeURL(url);\n      // video.play();\n\n      this.file.checkFile(cordova.file.dataDirectory, myFile.name).then((correct : boolean) => {\n        if(correct){\n            this.file.readAsDataURL(cordova.file.dataDirectory,  myFile.name).then((base64) => {\n                this.source = this.sanitizer.bypassSecurityTrustUrl(base64);\n                this.bo_html5 = true;\n                let video = this.myVideo.nativeElement;\n                console.log(this.source);\n                video.src = this.source;\n                video.play();\n            }).catch((err) => {\n                console.log(\"VIDEO :: No se pudo recuperar el video\");\n                console.log(err);\n            });\n        } else {\n            console.log(\"VIDEO :: El video no pudo ser encontrado\");\n        }\n    }).catch((err) => {\n        console.log(\"VIDEO :: Ocurrio un error al verificar si el video existe\");\n        console.log(err);\n    });\n  }\n \n  storeMediaFiles(files) {\n    this.storage.get(MEDIA_FILES_KEY).then(res => {\n      if (res) {\n        let arr = JSON.parse(res);\n        arr = arr.concat(files);\n        this.storage.set(MEDIA_FILES_KEY, JSON.stringify(arr));\n      } else {\n        this.storage.set(MEDIA_FILES_KEY, JSON.stringify(files))\n      }\n      console.log(files);\n      this.mediaFiles = this.mediaFiles.concat(files);\n    })\n  }\n \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/media-capture/media-capture.ts"],"sourceRoot":""}